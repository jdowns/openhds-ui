<div>

    <br/>

    <!-- Locations -->
    <div ng-if="model.queryResult.displayCollection.length > 0 &&
                model.entityType == 'location' &&
                model.queryResult.entityType === model.entityType"
                style="border:1px solid black;padding: 20px">

        <button class="btn btn-danger pull-right"
                ng-click="model.clearResults()">
            {{ 'buttons.clear' | i18next }}
        </button>




        <!-- Display locations -->
        <h4> {{ 'labels.locations' | i18next }}:</h4>
        <table st-safe-src="model.queryResult.data" st-table="model.queryResult.displayCollection" class="table table-striped">

            <thead>
            <tr>
                <th></th>
                <th> {{ 'tables.extId' | i18next }}</th>
                <th> {{ 'tables.name' | i18next }}</th>
                <th> {{ 'tables.type' | i18next }}</th>
            </tr>

            <tr>
                <th></th>
                <th>
                    <input st-search="extId" class="input-sm form-control" type="search"/>
                </th>
                <th>
                    <input st-search="name" class="input-sm form-control" type="search"/>
                </th>
                <th>
                    <input st-search="type" class="input-sm form-control" type="search"/>
                </th>

            </tr>


            </thead>
            <tbody>
            <tr ng-repeat="row in model.queryResult.displayCollection">
                <td>
                    <div class="dropdown">
                        <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            <span class="glyphicon glyphicon-chevron-down"></span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-left" aria-labelledby="dropdownMenu1">
                            <li class="dropdown-header"> {{ 'labels.actions' | i18next }}</li>
                            <li ng-click="model.edit(row, 'location')"><a >{{ 'buttons.edit' | i18next }}</a></li>
                            <li ng-click="model.deleteEntity(row)"><a >{{ 'labels.delete' | i18next }}</a></li>
                            <li role="separator" class="divider"></li>
                            <li class="dropdown-header">{{ 'buttons.view' | i18next }}</li>
                            <li ng-click="model.viewRelated('location', row)"><a>{{ 'labels.relatedEntities' | i18next }}</a></li>
                            <li ng-click="model.viewJson(row)"><a>{{ 'labels.rawData' | i18next }}</a></li>
                        </ul>
                    </div>
                </td>
                <td>{{row.extId}}</td>
                <td>{{row.name}}</td>
                <td>{{row.type}}</td>

            </tr>

            </tbody>
        </table>
        <hr>
    </div>

    <!-- Individuals -->
    <div ng-if="model.queryResult.displayCollection.length > 0 &&
                model.entityType == 'individual' &&
                model.queryResult.entityType === model.entityType"
                style="border:1px solid black;padding: 20px">

        <button class="btn btn-danger pull-right"
                ng-click="model.clearResults()">
            {{ 'buttons.clear' | i18next }}
        </button>



        <!-- Display individuals -->
        <h4> {{ 'labels.individuals' | i18next }}:</h4>
        <table st-safe-src="model.queryResult.data" st-table="model.queryResult.displayCollection" class="table table-striped">
            <thead>
            <tr>
                <th></th>
                <th> {{ 'tables.extId' | i18next }}</th>
                <th> {{ 'tables.firstName' | i18next }}</th>
                <th> {{ 'tables.lastName' | i18next }}</th>
                <th> {{ 'tables.gender' | i18next }}</th>
            </tr>

            <tr>
                <th></th>
                <th>
                    <input st-search="extId" class="input-sm form-control" type="search"/>
                </th>
                <th>
                    <input st-search="firstName" class="input-sm form-control" type="search"/>
                </th>
                <th>
                    <input st-search="lastName" class="input-sm form-control" type="search"/>
                </th>
                <th>
                    <input st-search="gender" class="input-sm form-control" type="search"/>
                </th>


            </tr>


            </thead>
            <tbody>
            <tr ng-repeat="row in model.queryResult.displayCollection">
                <td>
                    <div class="dropdown">
                        <button class="btn btn-primary dropdown-toggle" type="button"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            <span class="glyphicon glyphicon-chevron-down"></span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-left" aria-labelledby="dropdownMenu1">
                            <li class="dropdown-header"> {{ 'labels.actions' | i18next }}</li>
                            <li ng-click="model.edit(row, 'individual')"><a >{{ 'buttons.edit' | i18next }}</a></li>
                            <li ng-click="model.deleteEntity(row)"><a >{{ 'labels.delete' | i18next }}</a></li>
                            <li role="separator" class="divider"></li>
                            <li class="dropdown-header">{{ 'buttons.view' | i18next }}</li>
                            <li ng-click="model.viewRelated('individual', row)"><a>{{ 'labels.relatedEntities' | i18next }}</a></li>
                            <li ng-click="model.viewJson(row)"><a>{{ 'labels.rawData' | i18next }}</a></li>
                        </ul>
                    </div>
                </td>
                <td>{{row.extId}}</td>
                <td>{{row.firstName}}</td>
                <td>{{row.lastName}}</td>
                <td>{{row.gender}}</td>


            </tr>

            </tbody>
        </table>
        <hr>

    </div>




    <!-- Social Groups -->
    <div ng-if="model.queryResult.displayCollection.length > 0 &&
                model.entityType == 'socialGroup' &&
                model.queryResult.entityType === model.entityType"
                style="border:1px solid black;padding: 20px">

        <button class="btn btn-danger pull-right"
                ng-click="model.clearResults()">
            {{ 'buttons.clear' | i18next }}
        </button>

        <!-- Display Social Groups -->
        <h4> {{ 'labels.socialGroups' | i18next }}:</h4>
        <table st-safe-src="model.queryResult.data" st-table="model.queryResult.displayCollection" class="table table-striped">
            <thead>
            <tr>
                <th></th>
                <th> {{ 'tables.extId' | i18next }}</th>
                <th> {{ 'tables.groupName' | i18next }}</th>
                <th> {{ 'tables.groupType' | i18next }}</th>
            </tr>

            <tr>
                <th></th>
                <th>
                    <input st-search="extId" class="input-sm form-control" type="search"/>
                </th>
                <th>
                    <input st-search="groupName" class="input-sm form-control" type="search"/>
                </th>
                <th>
                    <input st-search="groupType" class="input-sm form-control" type="search"/>
                </th>

            </tr>


            </thead>
            <tbody>
            <tr ng-repeat="row in model.queryResult.displayCollection">
                <td>
                    <div class="dropdown">
                        <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            <span class="glyphicon glyphicon-chevron-down"></span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-left" aria-labelledby="dropdownMenu1">
                            <li class="dropdown-header"> {{ 'labels.actions' | i18next }}</li>
                            <li ng-click="model.edit(row,'socialGroup')"><a >{{ 'buttons.edit' | i18next }}</a></li>
                            <li ng-click="model.deleteEntity(row)"><a >{{ 'labels.delete' | i18next }}</a></li>
                            <li role="separator" class="divider"></li>
                            <li class="dropdown-header">{{ 'buttons.view' | i18next }}</li>
                            <li ng-click="model.viewRelated('socialGroup', row)"><a>{{ 'labels.relatedEntities' | i18next }}</a></li>
                            <li ng-click="model.viewJson(row)"><a>{{ 'labels.rawData' | i18next }}</a></li>
                        </ul>
                    </div>
                </td>
                <td>{{row.extId}}</td>
                <td>{{row.groupName}}</td>
                <td>{{row.groupType}}</td>
            </tr>

            </tbody>
        </table>
        <hr>

    </div>



    <!-- Visits -->
    <div ng-if="model.queryResult.displayCollection.length > 0 &&
                model.entityType == 'visit' &&
                model.queryResult.entityType === model.entityType"
         style="border:1px solid black;padding: 20px">

        <button class="btn btn-danger pull-right"
                ng-click="model.clearResults()">
            {{ 'buttons.clear' | i18next }}
        </button>

        <!-- Display Visits -->
        <h4> {{ 'labels.visits' | i18next }}</h4>
        <table st-safe-src="model.queryResult.data" st-table="model.queryResult.displayCollection" class="table table-striped">
            <thead>
            <tr>
                <th></th>
                <th> {{ 'tables.extId' | i18next }}</th>
                <th> {{ 'labels.collectionDate' | i18next }}</th>

            </tr>

            <tr>
                <th></th>
                <th>
                    <input st-search="extId" class="input-sm form-control" type="search"/>
                </th>
                <th>
                    <input st-search="collectionDateTime" class="input-sm form-control" type="search"/>
                </th>

            </tr>


            </thead>
            <tbody>
            <tr ng-repeat="row in model.queryResult.displayCollection">
                <td>
                    <div class="dropdown">

                        <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">

                            <span class="glyphicon glyphicon-chevron-down"></span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-left" aria-labelledby="dropdownMenu1">
                            <li class="dropdown-header"> {{ 'labels.actions' | i18next }}</li>
                            <li ng-click="model.deleteEntity(row)"><a >{{ 'labels.delete' | i18next }}</a></li>
                            <li role="separator" class="divider"></li>
                            <li class="dropdown-header">{{ 'buttons.view' | i18next }}</li>
                            <li ng-click="model.viewRelated('visit', row)"><a>{{ 'labels.relatedEntities' | i18next }}</a></li>
                            <li ng-click="model.viewJson(row)"><a>{{ 'labels.rawData' | i18next }}</a></li>
                        </ul>
                    </div>
                </td>
                <td>{{row.extId}}</td>
                <td>{{row.collectionDateTime}}</td>
            </tr>

            </tbody>
        </table>
        <hr>

    </div>




</div>

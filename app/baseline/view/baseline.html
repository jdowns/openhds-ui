<header>
  <h1>OpenHDS {{selectedLocation}}</h1>
</header>


<!-- Left Column -->
<div class="container" ng-init="model.init()">
  <div class="row">
    <div class="col-md-2 no-float">
      <ng-include src="'core/partials/navigationTabs.html'"></ng-include>
      <hr>
      Selected (debugging)


      <pre>Collection DateTime:{{model.collectionDateTime | json}}</pre>
      <pre>Hierarchy: {{model.selectedHierarchy | json}}</pre>
      <pre>Field Worker: {{model.currentFieldWorker | json}}</pre>


    </div>


    <!-- Main content -->
    <div class="col-md-10 no-float">
      <div>



        <ng-include src="'baseline/view/baselineTabBarPartial.html'"></ng-include>


        <div class="tab-content">

<!-- Begin baseline -->
          <div role="tabpanel" class="tab-pane fade in active" id="baseline">
            <div>
              <fieldset>
                <legend>Begin Baseline</legend>
                <datebox label="Collection Date" id="collectionDate" ng-model="model.collectionDateTime"> </datebox>
                <br />

                <ng-include src="'baseline/view/fieldworkerSelectPartial.html'"></ng-include>
                <ng-include src="'baseline/view/locationHierarchySelectPartial.html'"></ng-include>
                <br /> <br />
              </fieldset>
              <hr>
              <button id="next" class="btn btn-primary" data-toggle="tab" data-target="#location" ng-disable="model.collectionDateTime">
                Next
              </button>
            </div>
          </div>

 <!-- Location -->
          <div role="tabpanel" class="tab-pane fade" id="location">
            <row><h3>Location</h3></row>
            <row>

              <button id='createNewLocation' class="btn btn-primary" data-toggle="modal" data-target="#locationCreateModal">
                <h3>Create New</h3>
                <h2>
                  <span class="glyphicon glyphicon-plus"></span>
                </h2>
              </button>

              <button class="btn btn-success"  data-toggle="modal" data-target="#locationSelectModal">
                <h3> Select Existing </h3>
                <h2>
                  <span class="glyphicon glyphicon-search"></span>
                </h2>


              </button>
            </row>
            <hr>


            <h4>Current Location:</h4>
            <!-- TODO: placeholder -->
            <div id="currentLocationData">
              {{model.selectedLocation | json}}
            </div>

            <hr>
            <button class="btn btn-primary pull-right" data-toggle="tab" data-target="#group">
              Social Groups
              <span class="glyphicon glyphicon-arrow-right"></span>
            </button>
          </div>


 <!-- Social Group -->
          <div role="tabpanel" class="tab-pane fade" id="group">

            <row><h3>Social Group</h3></row>
            <row>
              <button class="btn btn-primary" data-toggle="modal" data-target="#socialGroupCreateModal">
                <h3>Create New</h3>
                <h2>
                  <span class="glyphicon glyphicon-plus"></span>
                </h2>
              </button>

              <button class="btn btn-success"  data-toggle="modal" data-target="#socialGroupSelectModal">
                <h3> Select Existing </h3>
                <h2>
                  <span class="glyphicon glyphicon-search"></span>
                </h2>
              </button>
            </row>
            <hr>

            <!-- Display selected social groups -->
            <h4>Selected Social Groups:</h4>
            <table st-table="model.selectedSocialGroups" class="table table-striped">
              <thead>
              <tr>
                <th>extId</th>
                <th st-sort="groupName">group name</th>
                <th>group type</th>
              </tr>
              </thead>
              <tbody>
              <tr ng-repeat="row in model.selectedSocialGroups">
                <td>{{row.extId}}</td>
                <td>{{row.groupName}}</td>
                <td>{{row.groupType}}</td>
                <td>
                  <button type="button" ng-click="model.removeSelectedEntity('selectedSocialGroups',row)" class="btn btn-sm btn-danger">
                    <i class="glyphicon glyphicon-remove-circle">
                    </i>
                  </button>
                </td>
              </tr>
              </tbody>
            </table>
            <hr>
            <button class="btn btn-primary pull-right" data-toggle="tab" data-target="#individuals">
              Individuals
              <span class="glyphicon glyphicon-arrow-right"></span>
            </button>
          </div>

 <!-- Individuals -->
          <div role="tabpanel" class="tab-pane fade" id="individuals">

            <row><h3>Individual</h3></row>
            <row>

              <button class="btn btn-primary" data-toggle="modal" data-target="#individualCreateModal">
                <h3>Create New</h3>
                <h2>
                  <span class="glyphicon glyphicon-plus"></span>
                </h2>
              </button>

              <button class="btn btn-success"  data-toggle="modal" data-target="#individualSelectModal">
                <h3> Select Existing </h3>
                <h2>
                  <span class="glyphicon glyphicon-search"></span>
                </h2>


              </button>
            </row>
            <hr>

            <!-- Display selected individuals -->
            <h4>Selected Individuals:</h4>
            <table st-table="model.selectedIndividuals" class="table table-striped">
              <thead>
              <tr>
                <th>firstName</th>
                <th>lastName</th>
                <th>dateOfBirth</th>
                <th>extId</th>
                <th>gender</th>
              </tr>
              </thead>
              <tbody>
              <tr ng-repeat="row in model.selectedIndividuals">
                <td>{{row.firstName}}</td>
                <td>{{row.lastName}}</td>
                <td>{{row.dateOfBirth}}</td>
                <td>{{row.extId}}</td>
                <td>{{row.gender}}</td>
                <td>
                  <button type="button" ng-click="model.removeSelectedEntity('selectedIndividual',row)" class="btn btn-sm btn-danger">
                    <i class="glyphicon glyphicon-remove-circle">
                    </i>
                  </button>
                </td>
              </tr>
              </tbody>
            </table>
            <hr>
            <button class="btn btn-primary pull-right" data-toggle="tab" data-target="#individuals">
              Relationships
              <span class="glyphicon glyphicon-arrow-right"></span>
            </button>
          </div>





<!-- Relationships -->
          <div role="tabpanel" class="tab-pane fade" id="relationships">
            <ng-include src="'domain/relationship/partials/relationshipBaselineForm.html'"> </ng-include>
            <hr>

            <!-- Display relationships -->
            <h4>Selected Relationships:</h4>
            <table st-table="model.selectedRelationships" class="table table-striped">
              <thead>
              <tr>
                <th>individualA</th>
                <th>individualB</th>
                <th>relationshipType</th>
                <th>startDate</th>


              </tr>
              </thead>
              <tbody>
              <tr ng-repeat="row in model.selectedRelationships">
                <td>{{row.individualA}}</td>
                <td>{{row.individualB}}</td>
                <td>{{row.relationshipType}}</td>
                <td>{{row.startDate}}</td>
                <td>
                  <button type="button" ng-click="model.removeSelectedEntity('selectedRelationship',row)" class="btn btn-sm btn-danger">
                    <i class="glyphicon glyphicon-remove-circle">
                    </i>
                  </button>
                </td>
              </tr>
              </tbody>
            </table>
            <hr>
            <button class="btn btn-primary pull-right" data-toggle="tab" data-target="#location">
              Finish Location
              <span class="glyphicon glyphicon-arrow-right"></span>
            </button>
          </div>


        </div>




        </div>
      </div>
    </div>
  </div>
</div>

<ng-include src="'domain/fieldworker/partials/fieldWorkerSelectModal.html'"></ng-include>

<ng-include src="'domain/locationHierarchy/partials/locationHierarchyModal.html'"></ng-include>


<ng-include src="'domain/socialGroup/partials/socialGroupSelectModal.html'"></ng-include>
<ng-include src="'domain/socialGroup/partials/socialGroupCreateModal.html'"></ng-include>

<ng-include src="'domain/location/partials/locationCreateModal.html'"></ng-include>
<ng-include src="'domain/location/partials/locationSelectModal.html'"></ng-include>

<ng-include src="'domain/individual/partials/individualCreateModal.html'"></ng-include>
<ng-include src="'domain/individual/partials/individualSelectModal.html'"></ng-include>

<ng-include src="'domain/membership/partials/membershipCreateModal.html'"></ng-include>

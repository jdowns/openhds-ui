<!--
    id: hierarchyModal
    required fields:
        model.allHierarchyLevels
        model.allHierarchies
        model.selectedHierarchy
        model.saveLocationHierarchy()
  -->

<div class="modal fade" id="hierarchyModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
          <span>&times;</span>
        </button>
        <h4 class="modal-title" id="myModalLabel">Location Hierarchy Select</h4>
      </div>
      <div class="modal-body">
        <select ng-model="model.selectedHierarchy[0]">
          <option ng-repeat="root_hierarchy in model.locationHierarchies['HIERARCHY_ROOT']"
                  value="{{root_hierarchy.uuid}}">
            {{root_hierarchy.extId}}
          </option>
        </select>
        <div ng-repeat="hierarchies in model.availableHierarchies()"
             ng-if="hierarchies.length > 0">
          <select ng-model="model.selectedHierarchy[hierarchies[0].level]">
            <option ng-repeat="hierarchy in hierarchies"
                    value="{{hierarchy.uuid}}">
              {{hierarchy.extId}}
            </option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal"
                id="saveHierarchy"
                ng-click="model.saveLocationHierarchy()">Close</button>
      </div>
    </div>
  </div>
</div>
